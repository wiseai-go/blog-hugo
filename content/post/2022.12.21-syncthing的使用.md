---
author: "wiseai"
title: "Syncthing的使用"
date: 2022-12-21T09:46:22+08:00
description: ""
tags:
- Linux
- golang
categories:
- Linux学习
draft: false
---

### 1.下载及编译
源码下载地址：https://github.com/syncthing/syncthing

gitee镜像：https://gitee.com/mirrors/syncthing?_from=gitee_search

`# go build build.go`

在bin目录下会编译生成所有程序，我们主要使用syncthing这个程序

### 2.使用
直接运行程序

`# ./syncthing`

首次运行会生成配置文件，位置在`~/.confing/syncthing/`，配置文件主要是`config.xml`

同时会打开127.0.0.1：8384网站，用于配置软件。

修改config.xml中的127.0.0.1为0.0.0.0，就可以远程打开配置网站，但是不建议这么做，存在安全隐患，建议设置为固定IP，用于管理。

必须修改网站登陆密码，**操作->设置->图形用户界面**，设置用户名及密码。

**操作->设置->连接**，可设置NAT、全局发现、本地发现、中继等，在安全要求较高的情况下，建议全部不要选择。

添加文件夹，文件夹ID非常重要，共享时必须一致。

添加远程设备，设备ID在**操作->显示ID**处查询，在不启用全局发现和本地发现的情况下，必须设置地址列表**添加设备->高级->地址列表**为tcp://ip地址:22000

设置共享，在文件夹和远程设备选项中都可以设置共享，共享文件夹可以双向同步，也可单向同步，文件夹类型只能在文件夹选项中设置。

加密，如果在共享时设置了密码，远程设备的文件夹必须为加密接收，否则会出现失去同步的问题。

解密，加密接收的文件夹可以通过

`# syncthing decrypt (--to=<dir> | --verify-only) [--password=<pw>] [--folder-id=<id>] [--token-path=<file>] [--continue] [--verbose] [--version] [--help] <path>`

进行解密。

主要参数有：`	--to  解密位置，	--password 加密的密码，	最后的<path>是需要解密的目录`

这样基本使用就没有问题了，其它功能遇到了再添加说明。

